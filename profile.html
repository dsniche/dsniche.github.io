<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Module 1 Wine Profile and Recipe</title>
  <style>
    @import url("https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Galada&family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&display=swap");

    :root {
      --print-profile: unset;
      --print-recipe: unset;
      --primary-color: #8a223b;
    }

    * {
      scrollbar-width: thin;
      scrollbar-color: var(--primary-color) var(--secondary-color);
    }

    *::-webkit-scrollbar {
      width: 6px;
    }

    *::-webkit-scrollbar-track {
      background: var(--secondary-color);
    }

    *::-webkit-scrollbar-thumb {
      background-color: var(--primary-color);
      border-radius: 5px;
    }

    html {
      height: 100%;
    }

    body {
      background-color: var(--primary-color);
      padding: 0.5rem;
      height: 100%;
      overflow: hidden;
    }

    #card {
      background-color: #faf7ef;
      aspect-ratio: 800 / 621;
      max-height: 622px;
      max-width: 800px;
      position: relative;
      overflow: hidden;
      align-self: center;
    }

    #card_outline {
      position: relative;
      z-index: 10;
      max-width: 800px;
      width: 100%;
      overflow: hidden;
    }

    #contents {
      position: absolute;
      top: 0;
      max-width: 800px;
      width: 100%;
    }

    .bookmark {
      max-width: 215px;
      width: 100%;
      margin-top: -5rem;
      position: relative;
      z-index: 0;
      align-content: space-between;
    }

    #title {
      margin-top: 2rem;
      margin-left: 1.3rem;
      position: relative;
      z-index: 11;
    }

    .positioning {
      display: flex;
      justify-content: space-between;
      padding: 1rem 1.8rem 1rem 2.5rem;
    }

    .positioning-2 {
      display: flex;
      flex-direction: column;
      align-items: space-between;
      position: relative;
      z-index: 10;
    }

    #title p,
    #directions h2,
    #ingredients h2 {
      font-family: "Nunito Sans", serif;
      font-size: 20pt;
      color: #000000bb;
      letter-spacing: 2px;
      margin: 0;
      font-weight: normal;
    }

    #title h1 {
      font-family: serif;
      font-size: 40pt;
      margin: 0.2rem 0 0 1.2rem;
      font-style: italic;
      line-height: 110%;
    }

    #directions {
      margin-left: 1.3rem;
      max-width: 400px;
      width: 100%;
    }

    #ingredients {
      max-width: 260px;
      width: 100%;
    }

    ul {
      padding-left: 17px;
      list-style: none;
    }

    #i-list li {
      padding-bottom: 0.5rem;
    }

    #i-list li:before {
      content: "";
      position: absolute;
      margin-top: 0.45rem;
      margin-left: -0.8125rem;
      background: var(--primary-color);
      border-radius: 50%;
      width: 0.3125rem;
      height: 0.3125rem;
    }

    #subtitle {
      font-family: serif;
      font-size: 26pt;
      font-style: italic;
      font-weight: bold;
      text-align: center;
      margin-top: -0.7rem;
      margin-bottom: 0;
      letter-spacing: 2px;
    }

    #attribution {
      margin: 0.2rem auto 0 auto;
      text-align: center;
      font-size: 8pt;
      font-family: "DM Sans", serif;
      color: #000000bb;
      letter-spacing: 1px;
    }

    .author {
      font-weight: bold;
    }

    .link {
      font-style: italic;
    }

    #mobile {
      display: none;
    }

    #mobile-attribution {
      display: none;
    }

    /* WINE PROFILE */
    .one_rem {
      padding: 1rem;
    }

    .column {
      display: flex;
      flex-direction: column;
      max-width: 117px;
    }

    .center {
      display: flex;
      justify-content: center;
      margin-top: 0.5rem;
    }

    .p-reset {
      padding: 0 !important;
      justify-content: center !important;
      gap: 0.7rem;
      max-height: 660px;
      align-items: center;
      overflow: auto;
    }

    .w-reset {
      padding: 0 !important;
    }

    #meta {
      padding-left: 0;
      list-style: none;
      margin-top: 0.3rem;
      margin-bottom: 0.3rem;
    }

    #meta li {
      padding-bottom: 0.2rem;
      font-family: "Nunito Sans", serif;
      color: #8a223b;
      font-weight: bold;
    }

    #logo {
      max-width: 295px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }

    #profile {
      max-width: 350px;
      width: 100%;
      background-color: #fafafa;
      box-shadow: 6px 5px #14141440;
      max-height: 622px;
    }

    #details {
      width: 100%;
      background: #efe9d3;
      padding: 0.5rem;
      border: 2px solid #8c7460;
      margin-top: -3rem;
      margin-right: -0.9rem;
      position: relative;
      border-radius: 4px;
    }

    .vineyard {
      width: 100%;
      align-self: flex-end;
      margin-top: 0.5rem;
      margin-right: -0.1rem;
    }

    #details h1 {
      font-size: 1px;
      color: transparent;
      position: absolute;
    }

    #details h2 {
      margin-top: 0;
      color: var(--primary-color);
      font-family: serif;
      font-size: 14.5pt;
    }

    #stats {
      width: fit-content;
      padding: 0 1rem 1.2rem 1rem;
      border: 2px solid #0095c6;
      background-color: #9ad5e8;
      margin: 0 auto;
      border-radius: 4px;
    }

    #profile h3 {
      font-family: "Nunito Sans", serif;
      font-weight: bold;
      text-align: center;
    }

    #profile h3 {
      margin-top: 0.55rem;
      margin-bottom: 0.4rem;
      color: var(--primary-color);
    }

    .level {
      width: 25px;
      height: 40px;
      background-color: #5dbbda;
      border-radius: 4px;
    }

    .stats {
      display: flex;
      gap: 0.32rem;
      justify-content: center;
    }

    .plus {
      background-color: var(--primary-color);
    }

    .final::after {
      content: "";
      position: absolute;
      width: 0;
      height: 0;
      border-left: 9px solid transparent;
      border-right: 9px solid transparent;
      border-bottom: 14px solid #fff;
      margin-top: 2.056rem;
      margin-left: 0.2rem;
    }

    button {
      background-color: transparent;
      padding: 0;
      border: none;
      font-size: 8pt;
      font-family: "DM Sans", serif;
      font-weight: bold;
    }

    button:hover {
      text-decoration: underline;
      color: var(--primary-color);
      cursor: pointer;
    }

    @media only screen and (max-width: 1117px) {
      #subtitle {
        font-size: 20pt;
        margin-top: -1rem;
      }

      .positioning-2 {
        margin-top: -1rem;
      }
    }

    @media only screen and (max-width: 1080px) {
      #subtitle {
        font-size: 18pt;
        margin-top: -1.5rem;
      }

      #attribution {
        margin-top: -0.1rem;
      }
    }

    @media only screen and (max-width: 1060px) {

      #directions h2,
      #ingredients h2,
      #title p {
        font-size: 14pt;
      }

      .bookmark {
        display: none;
      }

      .positioning-2 {
        margin-top: 0;
      }

      #title h1 {
        font-size: 25pt;
        margin-left: 0;
      }

      #title {
        text-align: center;
        margin: 1rem auto 1rem auto;
      }

      #subtitle {
        font-size: 16pt;
        margin-top: -1rem;
      }

      #attribution {
        display: none;
      }

      #mobile-attribution {
        display: block;
        font-family: "DM Sans", serif;
        font-size: 8pt !important;
        margin-top: 0.2rem !important;
      }
    }

    @media only screen and (max-width: 950px) {

      #directions h2,
      #ingredients h2,
      #title p {
        font-size: 14pt;
      }

      .positioning {
        padding: 1rem 1.2rem;
      }

      .positioning-2 {
        margin-top: -0.5rem;
      }

      #title h1 {
        font-size: 22pt;
      }

      #directions,
      #ingredients {
        font-family: "DM Sans", serif;
        font-size: 10pt;
      }

      #subtitle {
        font-size: 14pt;
        margin-top: -1.5rem;
      }
    }

    @media only screen and (max-width: 910px) {
      .positioning-2 {
        display: none;
      }

      #mobile {
        display: block;
        padding: 0 2rem;
        font-family: "DM Sans", serif;
        margin-top: -2rem;
        text-align: center;
      }
    }

    @media only screen and (max-width: 660px) {
      #title h1 {
        font-size: 16pt;
      }

      #title p {
        font-size: 12pt;
      }

      #mobile {
        font-size: 10pt;
      }
    }

    @media only screen and (max-width: 615px) {
      .p-reset {
        flex-wrap: wrap;
      }

      #card {
        max-width: 350px;
      }
    }

    /*WINE PROFILE */
    @media only screen and (max-width: 375px) {
      #details {
        width: unset;
        border: 2px solid #8c7460;
        margin-top: 0;
        margin-right: 0;
        position: unset;
      }

      .vineyard {
        align-self: flex-end;
        margin-top: unset;
        margin-right: unset;
      }

      .positioning {
        justify-content: center;
      }

      #logo {
        max-width: 280px;
        margin: 0 auto;
        position: relative;
        z-index: 1;
      }

      .w-reset {
        margin-top: -2rem;
      }

      .center {
        margin-top: 0.3rem;
      }
    }

    /* WINE PROFILE */
    @media only screen and (max-width: 340px) {
      #details h2 {
        font-size: 12pt;
      }

      #profile h3 {
        font-size: 12pt;
      }

      li {
        font-size: 10pt;
      }

      #logo {
        max-width: 235px;
      }

      #stats {
        padding: 0 0.5rem 1.2rem 0.5rem;
        margin: 0 auto;
        border-radius: 4px;
      }
    }

    @media only screen and (max-width: 315px) {
      #logo {
        display: none;
      }

      .vineyard {
        display: none;
      }

      #stats {
        background-color: unset;
        border: unset;
        padding: 0 0.5rem 0.5rem 0.5rem;
      }

      .w-reset {
        margin-top: unset;
      }

      .level {
        width: 17px;
        height: 25px;
        background-color: #14141430;
        border-radius: 4px;
      }

      .plus {
        background-color: var(--primary-color);
      }

      .final::after {
        border-left: 6px solid transparent;
        border-right: 6px solid transparent;
        border-bottom: 10px solid #5dbbda;
        margin-top: 1.25rem;
        margin-left: 0.2rem;
      }

      .column {
        max-width: unset;
      }

      #details {
        border: unset;
        background-color: unset;
      }

      #details h1 {
        font-size: unset;
        color: unset;
        position: unset;
        color: #0095c6;
        font-size: 15pt;
        font-weight: bold;
      }

      .mobile-flex {
        display: flex;
        gap: 0.5rem;
        align-items: center;
      }

      .mobile-flex h3 {
        font-size: 10pt !important;
        max-width: 100px;
        width: 100%;
      }

      .positioning {
        flex-direction: column;
      }
    }

    @media print {
      #profile {
        display: var(--print-profile);
      }

      #card {
        display: var(--print-recipe);
      }

      .print_hide {
        display: none;
      }
    }
  </style>
</head>

<body>
  <div class="positioning p-reset">
    <div id="profile">
      <div class="one_rem">
        <div class="center">
          <img id="logo" src="https://i.imgur.com/mJJjiqq.png" />
        </div>
        <div class="positioning w-reset">
          <div class="column">
            <div id="details">
              <h1>WINE PROFILE at a glance</h1>
              <h2 id="wine_name">Name</h2>
              <ul id="meta">
                <li id="wine_year">Year</li>
                <li id="wine_type">Type</li>
                <li id="wine_price">Price</li>
                <li><button class="print print_hide" type="button">Print Wine Profile</button></li>
              </ul>
            </div>
            <img class="vineyard" src="https://i.imgur.com/du1l7yO.png" />
          </div>
          <div id="stats">
            <div class="mobile-flex">
              <h3>FRUITY</h3>
              <div id="fruity" class="stats">
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
              </div>
            </div>
            <div class="mobile-flex">
              <h3>BODY</h3>
              <div id="body" class="stats">
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
              </div>
            </div>
            <div class="mobile-flex">
              <h3>TANNIN</h3>
              <div id="tannin" class="stats">
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
              </div>
            </div>
            <div class="mobile-flex">
              <h3>ACIDITY</h3>
              <div id="acidity" class="stats">
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
              </div>
            </div>
            <div class="mobile-flex">
              <h3>ALCOHOL</h3>
              <div id="alcohol" class="stats">
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
                <div class="level"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="card">
      <img id="card_outline" src="https://i.imgur.com/FQtVoJt.png" />
      <div id="contents">
        <div class="positioning">
          <div id="title">
            <p>HOW TO MAKE</p>
            <h1 id="dish_title">Dish Title</h1>
            <p id="mobile-attribution">Recipe courtesy of <span class="author">Author</span> at <a href="#" class="link">website</a><span class="print_hide"> | <button class="print" type="button">Print Recipe</button></span></p>
          </div>
          <img class="bookmark" src="https://i.imgur.com/l1FVtyM.png" />
        </div>
        <div class="positioning-2">
          <div class="positioning" style="margin-top: -1rem; gap: 1.5rem;">
            <div id="directions">
              <h2>DIRECTIONS</h2>
            </div>
            <div id="ingredients">
              <h2>INGREDIENTS</h2>
              <ul id="i-list">
              </ul>
            </div>
          </div>
          <p id="subtitle">Enjoy with your favorite bottle of wine</p>
          <p id="attribution">Recipe courtesy of <span class="author">Author</span> at <a href="#" class="link">website</a><span class="print_hide"> | <button class="print" type="button">Print Recipe</button></span></p>
        </div>
        <div id="mobile">
          <p><a href="#">View Recipe</a></p>
        </div>
      </div>
    </div>
  </div>
</body>
<script>
  const url = new URL(location.href);
  const wine = url.searchParams.get("wine");
  const data = {
    cava: {
      name: "Cava",
      year: "1999",
      type: "N/A",
      price: "Too Expensive",
      ratings: [3, 4, 1, 1, 5],
      recipe: {
        name: "Gorgonzola Cheese Sauce",
        directions: "Melt butter in a medium saucepan over medium-low heat. Stir in flour, then milk. When mixture begins to thicken, stir in cheese. Cook until cheese is melted and sauce reaches desired consistency. Season with salt and pepper.",
        ingredients: [
          "3 tablespoons butter",
          "3 tablespoons all-purpose flour",
          "3 cups milk",
          "⅓ cup crumbled Gorgonzola cheese",
          "¼ teaspoon salt",
          "¼ teaspoon black pepper"
        ],
        attr_name: "Sara",
        attr_site: "allrecipes.com",
        attr_link: "https://www.allrecipes.com/recipe/25299/gorgonzola-cheese-sauce/?print"
      }
    }
  };
  document.querySelector("#wine_name").textContent = data[wine]["name"];
  document.querySelector("#wine_year").textContent = data[wine]["year"];
  document.querySelector("#wine_type").textContent = data[wine]["type"];
  document.querySelector("#wine_price").textContent = data[wine]["price"];
  const fruity = document.querySelector("#fruity").children;
  const body = document.querySelector("#body").children;
  const tannin = document.querySelector("#tannin").children;
  const acidity = document.querySelector("#acidity").children;
  const alcohol = document.querySelector("#alcohol").children;
  for (let i = 0; i < data[wine]["ratings"].length; i++) {
    if (i == 0) {
      let score = data[wine]["ratings"][i];
      for (let ii = 0; ii < score; ii++) {
        fruity[ii].classList.add("plus");
        if (ii == score - 1) {
          fruity[ii].classList.add("final");
        }
      }
    } else if (i == 1) {
      let score = data[wine]["ratings"][i];
      for (let ii = 0; ii < score; ii++) {
        body[ii].classList.add("plus");
        if (ii == score - 1) {
          body[ii].classList.add("final");
        }
      }
    } else if (i == 2) {
      let score = data[wine]["ratings"][i];
      for (let ii = 0; ii < score; ii++) {
        tannin[ii].classList.add("plus");
        if (ii == score - 1) {
          tannin[ii].classList.add("final");
        }
      }
    } else if (i == 3) {
      let score = data[wine]["ratings"][i];
      for (let ii = 0; ii < score; ii++) {
        acidity[ii].classList.add("plus");
        if (ii == score - 1) {
          acidity[ii].classList.add("final");
        }
      }
    } else {
      let score = data[wine]["ratings"][i];
      for (let ii = 0; ii < score; ii++) {
        alcohol[ii].classList.add("plus");
        if (ii == score - 1) {
          alcohol[ii].classList.add("final");
        }
      }
    }
  }
  document.querySelector("#dish_title").textContent =
    data[wine]["recipe"]["name"];
  document.querySelector("#directions").insertAdjacentHTML(
    "beforeend",
    `
  <p>${data[wine]["recipe"]["directions"]}</p>
  `
  );
  const ingredients = document.querySelector("#i-list");
  for (let i = 0; i < data[wine]["recipe"]["ingredients"].length; i++) {
    const li = document.createElement("li");
    const content = document.createTextNode(
      data[wine]["recipe"]["ingredients"][i]
    );
    li.appendChild(content);
    ingredients.appendChild(li);
  }
  const links = document.querySelectorAll(".link");
  const author = document.querySelectorAll(".author");
  for (let i = 0; i < links.length; i++) {
    links[i].textContent = data[wine]["recipe"]["attr_site"];
    links[i].href = data[wine]["recipe"]["attr_link"];
    links[i].setAttribute("target", "_blank");
    author[i].textContent = data[wine]["recipe"]["attr_name"];
  }
  const print = document.querySelectorAll("button");
  const cssVariables = document.querySelector(":root");
  for (let i = 0; i < print.length; i++) {
    print[i].addEventListener("click", (e) => {
      if (i === 0) {
        cssVariables.style.setProperty("--print-profile", "initial");
        cssVariables.style.setProperty("--print-recipe", "none");
      } else {
        cssVariables.style.setProperty("--print-profile", "none");
        cssVariables.style.setProperty("--print-recipe", "initial");
      }
      window.print();
    });
  }
</script>

</html>